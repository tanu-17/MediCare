{"name":"223f7366-77c3-4c26-935e-b32ddff44580","id":"/providers/Microsoft.Flow/flows/223f7366-77c3-4c26-935e-b32ddff44580","type":"Microsoft.Flow/flows","properties":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_logicflows","displayName":"ApproveStoredProcedure","definition":{"metadata":{"workflowEntityId":null,"processAdvisorMetadata":null,"flowChargedByPaygo":null,"flowclientsuspensionreason":"None","flowclientsuspensiontime":null,"flowclientsuspensionreasondetails":null,"creator":{"id":"1b1610cc-5058-4227-9ebe-c4b88efe7c23","type":"User","tenantId":"4278a402-1a9e-4eb9-8414-ffb55a5fcf1e"},"provisioningMethod":"FromDefinition","failureAlertSubscription":true,"clientLastModifiedTime":"2023-12-04T18:02:45.6908939Z","connectionKeySavedTimeKey":"2023-12-04T18:02:45.6908939Z"},"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"}},"triggers":{"manual":{"metadata":{"operationMetadataId":"594fc00e-f0c3-445c-af12-7a2190db0d15"},"type":"Request","kind":"PowerApp","inputs":{"schema":{"type":"object","properties":{"Executestoredprocedure(V2)_ScheduleID":{"type":"integer","x-ms-powerflows-param-ispartial":false}},"required":["Executestoredprocedure(V2)_ScheduleID"]}}}},"actions":{"Execute_stored_procedure_(V2)":{"runAfter":{},"metadata":{"operationMetadataId":"59dcb6f8-a0d6-40f5-8536-7a47d09622d1"},"type":"OpenApiConnection","inputs":{"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_sql","connectionName":"shared_sql","operationId":"ExecuteProcedure_V2"},"parameters":{"server":"default","database":"default","procedure":"[dbo].[UpdateAppointmentApproval]","parameters/ScheduleID":"@triggerBody()['Executestoredprocedure(V2)_ScheduleID']"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}}}},"outputs":{},"description":"When Power Apps control is triggered then SQL stored procedure should be executed."},"connectionReferences":{"shared_sql":{"connectionName":"27d493c2e08b4a81a0bd569edade704a","source":"Invoker","id":"/providers/Microsoft.PowerApps/apis/shared_sql","tier":"NotSpecified"}},"flowFailureAlertSubscribed":false,"isManaged":false}}